<div class="content">
  <h2>Role Management</h2>

  <!-- Toggle Buttons for Viewing and Adding Roles -->
  <div class="toggle-buttons">
    <button [class.active]="viewMode === 'view'" (click)="showViewRoles()">View Roles</button>
    <button [class.active]="viewMode === 'add'" (click)="showAddRoleForm()">Add New Role</button>
  </div>

  <!-- Existing Roles Table -->
  <div *ngIf="viewMode === 'view'" class="table-section">
    <h3>Existing Roles</h3>
    <table>
      <thead>
        <tr>
          <th>Role Name</th>
          <th>Description</th>
          <th>Actions</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let role of roles">
          <td>{{ role.name }}</td>
          <td>{{ role.description }}</td>
          <td>
            <button class="edit-button" (click)="editRole(role)">Edit</button>
            <button class="delete-button" (click)="confirmDeleteRole(role.id)">Delete</button>
          </td>
        </tr>
      </tbody>
    </table>
  </div>

<!-- Form to Add/Edit Role -->
<div class="form-section" *ngIf="viewMode === 'add' || viewMode === 'edit'">
  <h3>{{ viewMode === 'add' ? 'Add New Role' : 'Edit Role' }}</h3>
  <form (ngSubmit)="viewMode === 'add' ? createRole() : updateRole()">
    <label for="roleName">Role Name:</label>
    <input id="roleName" [(ngModel)]="newRole.name" name="roleName" required>

    <label for="roleDescription">Description:</label>
    <input id="roleDescription" [(ngModel)]="newRole.description" name="roleDescription" required>

    <h4>Assign Permissions</h4>
    <div class="permissions-section">
      <label *ngFor="let permission of permissions" class="permission-checkbox">
        <input type="checkbox" [(ngModel)]="permission.selected" name="permission{{permission.id}}"> 
        {{ permission.id }}
      </label>
    </div>

    <button type="submit" class="submit-button">{{ viewMode === 'add' ? 'Add Role' : 'Update Role' }}</button>
    <button type="button" class="cancel-button" (click)="showViewRoles()">Cancel</button>
  </form>
</div>

  
</div>
